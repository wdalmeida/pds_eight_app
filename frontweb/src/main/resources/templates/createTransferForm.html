<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
    <head lang="fr" th:replace="fragments/header :: header"></head>

    <body>
        <nav th:replace="fragments/menu :: menu"></nav>

        <h2>Effectuer un virement</h2>

        <!--/*@thymesVar id="transferModel" type=""*/-->
        <form action="#" method="post" th:object="${transferModel}" th:action="@{/transfers/submit}">
            <fieldset>
                <div id="transfer">
                    <label for="sendingIBAN">IBAN émetteur:
                        <select class="form-control"  th:field="*{sendingIBAN}">
                            <option value="0">Selectionner un compte émetteur</option>
                            <option th:each="account : ${accounts}"
                                    th:value="${account.iban}"
                                    th:selected="${account.iban}"
                                    th:text="${account.iban}+' (solde: '+${account.balance}+')'"></option>
                        </select>
                    </label>
                    <br/>

                    <label for="amount">Montant: </label>
                    <input type="text" th:field="*{amount}" size="15"/>
                    <br/>

                    <label for="beneficiaryIban">IBAN bénéficiaire:
                        <select class="form-control"  th:field="*{beneficiaryIban}">
                            <option value="0">Selectionner un compte bénéficiaire</option>
                            <option th:each="beneficiaryAccount : ${beneficiaryAccounts}"
                                    th:value="${beneficiaryAccount.iban}"
                                    th:selected="${beneficiaryAccount.iban}"
                                    th:text="${beneficiaryAccount.iban}+' (libelle: '+${beneficiaryAccount.name}+')'"></option>
                        </select>
                    </label>

                    <br/>

                    <label for="valueDate">Date de valeur: </label>
                    <input type="date" th:field="*{valueDate}" size="30"/>
                    <br/>

                    <label for="wording">Libellé: </label>
                    <input type="text" th:field="*{wording}" size="30"/>

                </div>

                <div class="submit">
                    <button name="submit" type="submit">Envoyer</button>
                </div>
            </fieldset>
        </form>
    </body>
</html>